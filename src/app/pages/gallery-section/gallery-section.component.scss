/* Offset para anclas con header fijo */
#galeria { scroll-margin-top: calc(var(--header-h, 76px) + 24px); }
@media (max-width: 768px){ #galeria { scroll-margin-top: calc(var(--header-h-sm, 64px) + 16px); } }

/* Fondo mármol/grano coherente */
.marble-bg {
  background: linear-gradient(135deg, var(--background) 0%, color-mix(in oklch, var(--background) 85%, #fff 15%) 100%);
  position: relative; isolation: isolate;
}
.marble-bg::before{
  content:"";
  position:absolute; inset:0; pointer-events:none; opacity:.5; z-index:0;
  background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="g" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="0.5" fill="%23d4a574" opacity="0.10"/><circle cx="75" cy="75" r="0.3" fill="%23c17854" opacity="0.08"/><circle cx="50" cy="10" r="0.4" fill="%238b8680" opacity="0.06"/></pattern></defs><rect width="100" height="100" fill="url(%23g)"/></svg>');
}

/* Sección (feed estilo IG) */
.galeria-section { padding: clamp(4rem, 8vw, 6rem) 0; position: relative; z-index: 1; }
.galeria-section .container { max-width: 860px; margin: 0 auto; padding: 0 clamp(1rem, 3vw, 2rem); }

.section-header { text-align: center; margin-bottom: clamp(1.25rem, 4vw, 2rem); }
.section-title{
  font-family:'Playfair Display', serif; font-size: clamp(1.9rem, 3.6vw, 2.5rem);
  font-weight: 700; color: var(--foreground); margin-bottom: .9rem; position:relative;
}
.section-title::after{
  content:""; position:absolute; bottom:-.5rem; left:50%; transform:translateX(-50%);
  width:64px; height:3px; border-radius:2px;
  background: linear-gradient(90deg, var(--secondary), var(--primary));
}
.section-subtitle{ font-size: clamp(1rem, 2.4vw, 1.125rem); color: var(--muted-foreground); max-width: 720px; margin: 0 auto; }

/* Grid: una sola columna como feed */
.galeria-grid{
  display:grid; grid-template-columns: 1fr;
  gap: clamp(1rem, 2.5vw, 1.25rem);
}

/* Tarjeta/post */
.galeria-card{
  background: color-mix(in oklch, var(--card) 88%, #fff 12%);
  border: 1px solid color-mix(in oklch, var(--border) 70%, var(--secondary) 30%);
  border-radius: 18px;
  padding: clamp(.85rem, 2vw, 1rem);
  box-shadow: 0 10px 28px rgba(74,69,63,.08);
  backdrop-filter: blur(8px);
  display:flex; flex-direction:column; gap:.75rem;

  .card-title{ font-weight: 800; color: var(--foreground); font-size: 1rem; margin: 0; }
  .card-desc{ color: var(--foreground); opacity:.9; font-size:.95rem; margin:0; line-height: 1.6; }

  .btn-ver{
    width: 100%;
    margin-top: .6rem;
    padding: .7rem 1rem; border-radius: .75rem;
    background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
    color: var(--primary-foreground); font-weight: 800; border: 1px solid color-mix(in oklch, var(--primary) 80%, #000 20%);
    text-decoration:none; cursor:pointer; transition: transform .2s ease, box-shadow .2s ease;
    box-shadow: 0 4px 14px rgba(212,165,116,.28);
    &:hover{ transform: translateY(-1px); box-shadow: 0 8px 22px rgba(212,165,116,.36); }
    &:focus-visible{ outline:none; box-shadow: 0 0 0 3px var(--background), 0 0 0 6px rgba(193,120,84,.35); }
  }
}

/* Foto combinada (arriba Antes / abajo Después) */
.combined-photo{
  position: relative; border-radius: 14px; overflow: hidden;
  aspect-ratio: 4 / 5; /* formato vertical tipo Instagram */
  background:#eee; cursor: zoom-in;

  img{ width:100%; height:100%; object-fit:cover; display:block; transform: translateZ(0); transition: transform .3s ease; }
  &:hover img { transform: scale(1.015); }

  .edge{ position:absolute; left:0; right:0; pointer-events:none; }
  .edge.top{ top:0; height:28%; background: linear-gradient(to bottom, rgba(0,0,0,.35), transparent); }
  .edge.bottom{ bottom:0; height:28%; background: linear-gradient(to top, rgba(0,0,0,.35), transparent); }

  .badges{ position:absolute; inset:0; display:block; pointer-events:none; }
  .badge{
    position:absolute; left:.6rem; padding:.3rem .6rem; border-radius:.55rem;
    background: rgba(0,0,0,.55); color:#fff; font-size:.82rem; font-weight:800;
  }
  .badge-top{ top:.6rem; }
  .badge-bottom{ bottom:.6rem; }
}

/* Lightbox */
.lightbox{ position: fixed; inset:0; z-index: 1000; }
.lightbox-backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.6); }
.lightbox-content{
  position: relative; inset:0; margin: 4vh auto; max-width: min(1100px, 92vw);
  background: #111; border-radius: 12px; overflow: hidden;
  display:grid; grid-template-rows: auto 1fr auto;
}
.lb-close{
  position:absolute; top:.5rem; right:.5rem; background: #000; color:#fff;
  border:none; border-radius: .5rem; padding:.35rem .55rem; cursor:pointer; opacity:.85;
}
.lb-header{ padding:.75rem 1rem; color:#fff; }
.lb-media{ display:grid; place-items:center; background:#000; }
.lb-media img{ width:100%; height:auto; max-height: 76vh; object-fit:contain; display:block; }
.lb-nav{ display:flex; justify-content:space-between; padding:.5rem 1rem; }
.lb-prev,.lb-next{
  background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
  color: var(--primary-foreground); border: none; border-radius:.6rem; padding:.5rem .9rem;
  font-weight:800; cursor:pointer;
}
